<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Quantum Signature</title>
    <link rel="stylesheet" href="/static/css/style.css?v={{ cache_bust }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="quantum-background">
        <div class="quantum-particles"></div>
    </div>

    <!-- Token Authentication Modal -->
    <div class="token-auth-overlay" id="tokenAuthOverlay">
        <div class="token-auth-modal">
            <div class="token-auth-header">
                <h2>ğŸ” Access Control</h2>
                <p>Enter the access token to proceed</p>
            </div>
            <form id="tokenAuthForm" class="token-auth-form">
                <div class="token-input-group">
                    <label for="accessToken">Access Token:</label>
                    <input
                        type="password"
                        id="accessToken"
                        name="accessToken"
                        required
                        placeholder="Enter your access token"
                        autocomplete="off"
                    >
                    <div class="token-error" id="tokenError" style="display: none;"></div>
                </div>
                <button type="submit" class="token-submit-btn">
                    <span>ğŸš€ Verify Access</span>
                </button>
            </form>
            <div class="token-hint">
                Contact the administrator for access token
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>ğŸ” Create Your Quantum Signature</h1>
            <p>Generate a quantum-resistant digital signature and join the wall</p>
            <div class="nav-controls">
                <a href="/" class="nav-btn">ğŸ  Home</a>
                <a href="/wall" class="nav-btn">ğŸŒŒ View Wall</a>
                <a href="/admin" class="nav-btn">ğŸ”§ Admin</a>
            </div>
        </header>

        <div class="signup-content">
            <!-- Signature Creation Form -->
            <div class="signup-section">
                <div class="form-container">
                    <!-- <div class="form-header">
                        <h2>ğŸ² Generate Your Unique Quantum Signature</h2>
                        <p>Answer the question below to create a quantum-resistant digital signature that will be displayed on our visualization wall.</p>
                    </div> -->

                    <form id="quantumForm" class="quantum-form">
                        <div class="form-group">
                            <label for="name">Your Name:<br>ï¼ˆæ‚¨çš„åå­—ï¼‰</label>
                            <input type="text" id="name" name="name" required placeholder="Enter your full nameï¼ˆè¾“å…¥æ‚¨çš„å…¨åï¼‰">
                            <div class="form-hint">This will be displayed publicly on the signature wall<br>ï¼ˆè¿™å°†å…¬å¼€æ˜¾ç¤ºåœ¨ç­¾åå¢™ä¸Šï¼‰</div>
                        </div>

                        <div class="form-group">
                            <label for="quantumDevice">Select Quantum Device:<br>ï¼ˆé€‰æ‹©é‡å­è®¾å¤‡ï¼‰</label>
                            <div class="device-select-container">
                                <div class="select-wrapper">
                                    <select id="quantumDevice" name="quantumDevice" required>
                                        <option value="">Choose your quantum computing platformï¼ˆé€‰æ‹©æ‚¨çš„é‡å­è®¡ç®—å¹³å°ï¼‰</option>
                                        <option value="aws_sv1">â˜ï¸ Amazon Braket SV1 Simulatorï¼ˆAWSæ‰˜ç®¡çš„State Vectoré‡å­æ¨¡æ‹Ÿå™¨-å‡ åˆ†é’Ÿï¼‰</option>
                                        <option value="ionq_forte" disabled>âš›ï¸ IonQ Trap QPUï¼ˆIonQçš„ç¦»å­é˜±é‡å­è®¡ç®—æœº-åå‡ åˆ†é’Ÿï¼‰- UNDER MAINTENANCEï¼ˆè®¾å¤‡ç»´æŠ¤ä¸­ç›´åˆ°2026å¹´11æœˆ20å·ï¼‰</option>
                                        <option value="iqm_garnet">ğŸ’ IQM Superconducting QPUï¼ˆIQMçš„è¶…å¯¼é‡å­å¤„ç†å™¨-åå‡ åˆ†é’Ÿï¼‰</option>
                                        <option value="quera_aquila">ğŸ”¬ QuEra Neutral Atom QPUï¼ˆQuEraçš„ä¸­æ€§åŸå­é‡å­è®¡ç®—æœº-åå‡ åˆ†é’Ÿï¼‰</option>
                                        <option value="rigetti_ankaa3">ğŸ¯ Rigetti Superconducting QPUï¼ˆRigettiçš„è¶…å¯¼é‡å­å¤„ç†å™¨-åå‡ åˆ†é’Ÿï¼‰</option>
                                    </select>
                                </div>
                                <button type="button" class="preview-device-btn" id="previewDeviceBtn" disabled title="Select a device first">
                                    ğŸ‘ï¸ Preview Device
                                </button>
                            </div>
                            <div class="form-hint device-info" id="deviceInfo">Choose a quantum device to see processing details (é€‰æ‹©é‡å­è®¾å¤‡æŸ¥çœ‹å¤„ç†ç»†èŠ‚)</div>
                        </div>

                        <div class="form-group">
                            <label for="message">Do you think quantum computing will break the SHA-256 encryption of Bitcoin in 10 years?<br>(æ‚¨è®¤ä¸ºé‡å­è®¡ç®—ä¼šåœ¨10å¹´å†…æ”»ç ´æ¯”ç‰¹å¸çš„SHA-256åŠ å¯†å—ï¼Ÿ)</label>
                            <div class="select-wrapper">
                                <select id="message" name="message" required>
                                    <option value="">Please choose your answer<br>ï¼ˆè¯·é€‰æ‹©æ‚¨çš„ç­”æ¡ˆï¼‰</option>
                                    <option value="æ˜¯">Yesï¼ˆæ˜¯ï¼‰</option>
                                    <option value="ä¸æ˜¯">Noï¼ˆä¸æ˜¯ï¼‰</option>
                                </select>
                            </div>
                            <div class="form-hint">Your response will influence the quantum signature generation process<br>ï¼ˆæ‚¨çš„å›ç­”ä¼šå½±å“é‡å­ç­¾åç”Ÿæˆè¿‡ç¨‹ï¼‰</div>
                        </div>

                        <button type="submit" id="generateBtn" class="generate-signature-btn">
                            <span class="btn-icon">âœ¨</span>
                            <span class="btn-text">Generate Quantum Signature<br>ï¼ˆç”Ÿæˆé‡å­ç­¾åï¼‰</span>
                            <div class="btn-glow"></div>
                        </button>
                    </form>
                </div>

                <!-- Process Information -->
                <div class="process-info">
                    <h3>ğŸ§¬ What Happens Next?</h3>
                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-icon">ğŸ²</div>
                            <div class="step-content">
                                <h4>Multi-Device Quantum Processing</h4>
                                <p>Choose from local simulators, AWS managed services, or real quantum hardware from IonQ, IQM, QuEra, and Rigetti</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-icon">ğŸ”</div>
                            <div class="step-content">
                                <h4>Post-Quantum Cryptography</h4>
                                <p>Lattice-based quantum-resistant keys are generated using quantum entropy</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-icon">ğŸ“</div>
                            <div class="step-content">
                                <h4>Digital Signature Creation</h4>
                                <p>Your response is cryptographically signed with quantum-resistant algorithms</p>
                            </div>
                        </div>
                        <div class="process-step">
                            <div class="step-icon">ğŸŒŒ</div>
                            <div class="step-content">
                                <h4>Wall Visualization</h4>
                                <p>Your signature appears as an interactive card on the 3D quantum wall</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-header">
                    <h2>ğŸ‰ Signature Created Successfully!</h2>
                    <p>Your quantum signature has been generated and added to the wall</p>
                </div>

                <div class="results-grid">
                    <div class="result-card quantum-glow">
                        <h3>ğŸ² Your Quantum ID</h3>
                        <div class="quantum-number" id="quantumNumber"></div>
                        <p class="description">Quantum-generated unique identifier</p>
                    </div>

                    <div class="result-card quantum-glow">
                        <h3>ğŸ” Quantum-Resistant Keys</h3>
                        <div class="crypto-info">
                            <div class="key-item">
                                <span class="label">Algorithm:</span>
                                <span class="value" id="algorithm">Quantum-Resistant-Lattice</span>
                            </div>
                            <div class="key-item">
                                <span class="label">Public Key:</span>
                                <span class="value hash-text" id="publicKey">Loading...</span>
                            </div>
                            <div class="key-item">
                                <span class="label">Signature:</span>
                                <span class="value hash-text" id="digitalSignature">Loading...</span>
                            </div>
                        </div>
                        <p class="description">Post-quantum cryptographic signature</p>
                    </div>

                    <div class="result-card quantum-glow">
                        <h3>âš›ï¸ Device Information</h3>
                        <div class="device-results">
                            <div class="device-item">
                                <span class="label">Device:</span>
                                <span class="value" id="deviceName">Loading...</span>
                            </div>
                            <div class="device-item">
                                <span class="label">Job ID:</span>
                                <span class="value" id="jobId">N/A</span>
                            </div>
                            <div class="device-item">
                                <span class="label">Processing:</span>
                                <span class="value" id="processingType">Loading...</span>
                            </div>
                        </div>
                        <p class="description">Quantum computing platform details</p>
                    </div>
                </div>

                <div class="results-actions">
                    <a href="/wall" class="action-btn primary-btn">ğŸŒŒ View Your Signature on the Wall</a>
                    <button id="createAnotherBtn" class="action-btn secondary-btn">ğŸ”„ Create Another Signature</button>
                </div>
            </div>

            <!-- Loading Overlay -->
            <div class="loading" id="loading" style="display: none;">
                <div class="loading-content">
                    <div class="quantum-spinner"></div>
                    <p class="loading-text">Generating quantum-resistant signature...</p>
                    <div class="loading-steps">
                        <div class="loading-step active" id="step1">ğŸ² Generating quantum randomness</div>
                        <div class="loading-step" id="step2">ğŸ” Creating cryptographic keys</div>
                        <div class="loading-step" id="step3">ğŸ“ Signing your response</div>
                        <div class="loading-step" id="step4">ğŸŒŒ Adding to quantum wall</div>
                    </div>
                </div>
            </div>

            <!-- Device Preview Modal -->
            <div class="device-preview-modal" id="devicePreviewModal" style="display: none;">
                <div class="device-preview-content">
                    <div class="device-preview-header">
                        <h2 id="devicePreviewTitle">ğŸ”¬ Quantum Device Preview</h2>
                        <p>Use your mouse to rotate and explore the device</p>
                        <button class="device-preview-close-btn" id="closeDevicePreviewBtn">Ã—</button>
                    </div>
                    <div class="device-preview-canvas-container">
                        <canvas id="devicePreviewCanvas"></canvas>
                        <div class="device-preview-controls">
                            <div class="control-hint">
                                <span>ğŸ–±ï¸ Drag to Rotate</span>
                                <span>ğŸ“œ Scroll to Zoom</span>
                                <span>Right-Click to Pan</span>
                            </div>
                        </div>
                    </div>
                    <div class="device-preview-info">
                        <div class="device-specs" id="deviceSpecs">
                            <h3>Device Specifications</h3>
                            <div class="spec-grid" id="specGrid"></div>
                        </div>
                        <div class="device-description" id="deviceDescription"></div>
                    </div>
                    <div class="device-preview-actions">
                        <button class="device-preview-action-btn primary-btn" id="selectDeviceBtn">âœ… Use This Device</button>
                        <button class="device-preview-action-btn secondary-btn" id="closeDeviceModalBtn">Close Preview</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="/static/js/signup.js?v={{ cache_bust }}"></script>
</body>
</html>